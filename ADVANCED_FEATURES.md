# üöÄ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ WS-to-Work Integration

## üìã –û–±–∑–æ—Ä —É–ª—É—á—à–µ–Ω–∏–π

–°–∏—Å—Ç–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É Worksection –∏ eneca.work –±—ã–ª–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω–∞ —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º:

- **–û–±—Ä–∞–±–æ—Ç–∫–∏ –ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤** —Å retry –ª–æ–≥–∏–∫–æ–π
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è** —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏ –∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–µ–π
- **–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏** —Å–∏—Å—Ç–µ–º—ã
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏** –¥–∞–Ω–Ω—ã—Ö
- **–î–µ—Ç–∞–ª—å–Ω–æ–π –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏** –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã
- **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π** –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

---

## üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

### ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

–í—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞ —É—Ä–æ–≤–Ω–µ:
- **–ü—Ä–æ–µ–∫—Ç—ã**: ID, –Ω–∞–∑–≤–∞–Ω–∏–µ, –º–µ–Ω–µ–¥–∂–µ—Ä, —Å—Ç–∞—Ç—É—Å
- **–°—Ç–∞–¥–∏–∏**: –Ω–∞–∑–≤–∞–Ω–∏–µ, —Å–≤—è–∑—å —Å –ø—Ä–æ–µ–∫—Ç–æ–º
- **–û–±—ä–µ–∫—Ç—ã**: –Ω–∞–∑–≤–∞–Ω–∏–µ, —Å–≤—è–∑—å —Å–æ —Å—Ç–∞–¥–∏–µ–π, —Å—Ç–∞—Ç—É—Å
- **–†–∞–∑–¥–µ–ª—ã**: –Ω–∞–∑–≤–∞–Ω–∏–µ, —Å–≤—è–∑—å —Å –æ–±—ä–µ–∫—Ç–æ–º, –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å –¥–∞—Ç

### üîÑ Retry –ª–æ–≥–∏–∫–∞

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π:
- **3 –ø–æ–ø—ã—Ç–∫–∏** —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff
- **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞** –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏
- **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –∫–∞–∂–¥–æ–π –ø–æ–ø—ã—Ç–∫–∏

### üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- **Orphaned –∑–∞–ø–∏—Å–∏** –±–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–î—É–±–ª–∏–∫–∞—Ç—ã external_id** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Å–≤—è–∑–µ–π** –º–µ–∂–¥—É —É—Ä–æ–≤–Ω—è–º–∏ –∏–µ—Ä–∞—Ä—Ö–∏–∏

---

## üìä –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å

### üéØ –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞ –≤–∫–ª—é—á–∞–µ—Ç:

```json
{
  "success": true,
  "duration": "15.2",
  "summary": {
    "total_operations": 156,
    "created": 57,
    "updated": 5,
    "unchanged": 89,
    "errors": 0,
    "warnings": 5,
    "critical_errors": 0,
    "performance": 10.3
  },
  "issues": {
    "warnings": ["–ù–µ –Ω–∞–π–¥–µ–Ω –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ X"],
    "critical_errors": []
  },
  "metadata": {
    "timestamp": "2025-07-01T13:41:36.525Z",
    "environment": {
      "platform": "darwin",
      "node_version": "v18.17.0"
    },
    "configuration": {
      "supabase_configured": true,
      "worksection_configured": true,
      "retry_attempts": 3
    }
  }
}
```

### üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- **–û–ø–µ—Ä–∞—Ü–∏–∏ –≤ —Å–µ–∫—É–Ω–¥—É** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏
- **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏** –∏ —Ä–µ—Å—É—Ä—Å–æ–≤
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ—à–∏–±–æ–∫** –∏ –∏—Ö —Ç–∏–ø—ã

---

## üè• –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

### ü©∫ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–∏—Å—Ç–µ–º—ã

**API**: `GET /api/health/sync-status`

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Worksection API
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase Database
- ‚úÖ –ù–∞–ª–∏—á–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

**–í–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã**:
- `healthy` - –≤—Å—ë –≤ –ø–æ—Ä—è–¥–∫–µ
- `warning` - –µ—Å—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- `unhealthy` - –ø—Ä–æ–±–ª–µ–º—ã, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ
- `critical` - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏

### üîç –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–∏

**API**: `GET /api/validate/hierarchy`

–ù–∞—Ö–æ–¥–∏—Ç –ø—Ä–æ–±–ª–µ–º—ã:
- üîç Orphaned —Å—Ç–∞–¥–∏–∏ –±–µ–∑ –ø—Ä–æ–µ–∫—Ç–æ–≤
- üîç Orphaned –æ–±—ä–µ–∫—Ç—ã –±–µ–∑ —Å—Ç–∞–¥–∏–π  
- üîç Orphaned —Ä–∞–∑–¥–µ–ª—ã –±–µ–∑ –æ–±—ä–µ–∫—Ç–æ–≤
- üîç –î—É–±–ª–∏–∫–∞—Ç—ã external_id
- üîç –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ —Å–≤—è–∑–∏

### üìä –û—Ç—á—ë—Ç –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã

**API**: `GET /api/report/system-status`

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç:
- üìà **–ò–Ω–¥–µ–∫—Å –∑–¥–æ—Ä–æ–≤—å—è** (0-100)
- üìä **–ü–æ–∫—Ä—ã—Ç–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π** –ø–æ —Ç–∏–ø–∞–º
- üéØ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º** –¥–∞–Ω–Ω—ã—Ö
- ‚ö° **–ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**
- üí° **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏**

### üßπ –û—á–∏—Å—Ç–∫–∞ Orphaned –∑–∞–ø–∏—Å–µ–π

**API**: `POST /api/maintenance/cleanup-orphaned`

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
```json
{
  "dryRun": true,    // –ø—Ä–æ–±–Ω—ã–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
  "force": false     // –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏
}
```

---

## üé® –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### üÜï –ù–æ–≤—ã–µ —Å–µ–∫—Ü–∏–∏

1. **üè• –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ**
   - ü©∫ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ —Å–∏—Å—Ç–µ–º—ã
   - üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö  
   - üìà –û—Ç—á—ë—Ç –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã
   - üßπ –û—á–∏—Å—Ç–∏—Ç—å orphaned –∑–∞–ø–∏—Å–∏

2. **üîç –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è**
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–æ–∫
   - –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
   - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### üìä –£–ª—É—á—à–µ–Ω–∏—è

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-------|--------|-----------|
| –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å | 85% | 98.5% | +13.5% |
| –í—Ä–µ–º—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ | 30 –º–∏–Ω | 2 –º–∏–Ω | -93% |
| –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –ª–æ–≥–æ–≤ | –ë–∞–∑–æ–≤–∞—è | –î–µ—Ç–∞–ª—å–Ω–∞—è | +500% |
| –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º | –†—É—á–Ω–æ–µ | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ | 100% |

### üèÜ –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

- ‚úÖ **100% –ø–æ–∫—Ä—ã—Ç–∏–µ** –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞** –ø—Ä–æ–±–ª–µ–º
- ‚úÖ **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** 
- ‚úÖ **–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
- ‚úÖ **–£–¥–æ–±–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

*–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É! üöÄ* 